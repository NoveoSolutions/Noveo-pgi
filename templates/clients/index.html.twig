{% extends 'base.html.twig' %}
{% block title %}{{ title }}{% endblock %}
{% block content %}

<div class="page-heading">                              
        <div class="page-title">
            <div class="row">                   
                <div class="col-12 col-md-6 order-md-1 order-last">
                    <h3>{{ title }}</h3>
                    <p class="text-subtitle text-muted">The default layout.</p>
                </div>
                <div class="col-12 col-md-6 order-md-2 order-first">
                    <nav aria-label="breadcrumb" class="breadcrumb-header float-start float-lg-end">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="">Dashboard</a></li>
                            <li class="breadcrumb-item active" aria-current="page">Layout Default</li>
                        </ol>
                    </nav>
                </div>
            </div>
        </div>
        <section class="section">
            <div class="card">
                <div class="card-header">
                    <h4 class="card-title">{{ title }}</h4>
                </div>
                <div class="card-body">
                    Bienvenue sur la première itération 
                    <br /><br />
                        <div class="card">
              <div class="card-header">Résultats</div>
              <div class="card-body">
                <div class="table-responsive">                   
                            <table class="table" id="tableclients">
                                <thead>
                                    <tr>
                                    <th>Nom</th>
                                    <th>Prenom</th>
                                    <th>Téléphone</th>
                                    <th>Commandes</th>
                                    <th>Id</th>
                                    </tr>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>
                    </div>
                    <div class="container-fluid mt-4">
                        <div class="d-flex flex-row">
                            <h1 class="me-2">Client</h1>
                            <div {{ stimulus_controller('modal-form') }}>
                                <button
                                    class="btn btn-primary btn-sm"
                                    data-action="modal-form#openModal"
                                >Ajouter</button>
                                {{ include('_modal.html.twig', {
                                    modalTitle: 'Ajouter un client',
                                }) }}
                    </div>
              </div>
            </div>
        </section>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <script src="https://cdn.datatables.net/v/bs5/dt-1.12.1/datatables.min.js"></script>
<script>


  $(function() {
    $('#tableclients').DataTable({  

    "processing": true,
    "serverSide": true,
    "searching": true,
    "stateSave": true,
    "paging": true,
    "ajax": {
    "url": "/clients/tests",
    "data": function ( d ) {
    d.start = d.start || 0;
    d.length = d.length || 0;
    d.search = d.search;
    },    
    },
    "aLengthMenu": [ [3, 5, 15], ['xs', 'xm', 'xl'] ],
    "columns": [
    { "data": "nom" },
    { "data": "prenom" },
    { "data": "telephone" },
    { "data": "commandes" },
    { "data": "id" }
    ]
    });
    });

</script>

{% endblock %}

